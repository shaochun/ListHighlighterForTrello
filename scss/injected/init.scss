
@import "../colors";
@import "vars";
@import "mixins";

body.body-color-blind-mode-enabled .bmko_high-list {
	background-image: linear-gradient(to bottom right, rgba(255,255,255,0.5) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.5) 50%, rgba(255,255,255,0.5) 75%, transparent 75%, transparent);
	background-size: 2pc 2pc;

	.open-card-composer {
		opacity: 1;
	}

	.mod-list-name,
	.open-card-composer {
		text-shadow: 0 0 6px black;
	}
}

.bmko_list-highlighter-applied .list {
	color: var(--list-color);
	background: var(--list-bg);

	transition: background 0.25s;

	.u-fancy-scrollbar::-webkit-scrollbar-track-piece {
		background: var(--scrollbar-track-color);
	}
	.u-fancy-scrollbar::-webkit-scrollbar-thumb {
		background: var(--scrollbar-thumb-color);
	}

	.list-header,
	.list-cards,
	.open-card-composer {
		opacity: var(--opacity);
	}

	// ellipsis button, add card button

	.open-card-composer,
	.list-header-extras-menu {
		color: var(--list-button-color);
		.icon-sm {
			color: var(--list-button-color);
		}
		&:hover {
			background: var(--list-button-bg);
		}
	}

	// list header

	.list-header-num-cards,
	.mod-list-name,
	.mod-list-name:disabled {
		color: var(--header-color);

		-webkit-text-fill-color: var(--header-color);
	}

	.mod-list-name.is-editing {
		color: var(--editing-color);

		-webkit-text-fill-color: var(--editing-color);
	}

	// Cards

	.list-card {
		&:not(.placeholder) {
			&.is-stickered .list-card-details {
				background: transparent;
			}

			&.active-card {
				background: var(--active-card-bg);
				border-bottom-color: var(--active-card-border-bottom-color);
				a,
				textarea {
					color: var(--active-card-color);
				}
			}

			&:not(.active-card) {
				color: var(--card-color);
				background: var(--card-bg);
				border-bottom-color: var(--card-border-bottom-color);
				.list-card-title {
					color: var(--card-color);
				}
				a,
				textarea {
					color: var(--card-color);
				}
			}
		}

		&.placeholder {
			background: var(--list-button-bg);
			border-bottom-color: transparent;
		}
	}

	// Pencil button

	.active-card .list-card-operation {
		color: var(--card-button-color);
		background: transparent;
		&:hover {
			color: var(--card-color);
			background: var(--card-button-bg);
		}
	}

	// card footer buttons

	.icon-lg {
		&.dark-hover,
		&.dark-background-hover {
			opacity: 0.7;

			color: var(--card-button-color);
			&:hover {
				opacity: 1;

				background: var(--card-button-bg);
			}
		}
	}

	// List type-specific styles

	&.bmko_high-list .member {
		color: var(--header-color);
		background: transparent;
	}

	&.bmko_high-list .member-initials {
		opacity: 0.9;
		box-sizing: border-box;

		border: 1px solid var(--header-color);
		border-radius: 3px;
	}

	&.bmko_high-list .active-card .list-card-operation {
		color: var(--pencil-button-color);
		&:hover {
			background: var(--pencil-button-bg);
		}
	}

	&.bmko_ignore-list,
	&.bmko_trash-list {
		@include ignore();
	}

	&.bmko_trash-list .list-cards {
		text-decoration: line-through;
		.confirm {
			opacity: 0.5;
		}
	}

	&.bmko_low-list {
		@include low();
	}
}

.bmko_list-limit-notice {
	margin: -10px 9px 6px 11px;

	font-size: 12px;
	text-transform: uppercase;
	color: var(--list-button-color);
	border-radius: 4px;

	&:empty {
		display: none;
	}

	span {
		float: right;
	}

	.bmko_list-over & {
		color: var(--list-color);

		& span {
			font-weight: bold;

			animation: bounceIn 0.75s both;
		}

		& span::before {
			content: "‚ö†Ô∏è";
			margin-right: 6px;
		}
	}
}

.bmko_list-full,
.bmko_list-over {
	.placeholder::before {
		display: flex;
		content: "‚ö†Ô∏è";
		justify-content: center;
		align-items: center;
		width: 100%;
		height: 100%;
	}
}

@mixin openComposerWarning () {
	content: "‚ö†Ô∏è";
	float: right;
	margin-right: 2px;
}

.bmko_list-over .open-card-composer::after,
.bmko_list-full .open-card-composer:hover::after {
	@include openComposerWarning;
}

.bmko_refuse-new-cards {
	&::after {
		background: transparentize(black, .8);
		position: absolute;
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;
		display: flex;
		content: "üö´";
		justify-content: center;
		padding-top: 30px;
		z-index: 5;
		border-radius: 3px;

		font-size: 30px;
	}
}

@keyframes bounceIn {
	from,
	20%,
	40%,
	60%,
	80%,
	to {
		animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
	}

	0% {
		opacity: 0;
		transform: scale3d(0.3, 0.3, 0.3);
	}

	20% {
		transform: scale3d(1.1, 1.1, 1.1);
	}

	40% {
		transform: scale3d(0.9, 0.9, 0.9);
	}

	60% {
		opacity: 1;
		transform: scale3d(1.03, 1.03, 1.03);
	}

	80% {
		transform: scale3d(0.97, 0.97, 0.97);
	}

	to {
		opacity: 1;
		transform: scale3d(1, 1, 1);
	}
}

@import "headercards";
